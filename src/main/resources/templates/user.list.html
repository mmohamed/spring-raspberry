<!DOCTYPE html>
<html lang="en">
  <head th:replace="fragments/header :: header"></head>

  <body class="nav-md">
    <div class="container body">
      <div class="main_container">
        
        <div th:replace="fragments/panel :: left"></div>
        <div th:replace="fragments/panel :: nav"></div>

        <!-- page content -->
        <div class="right_col" role="main">
			<div>
				<div class="page-title">
					<div class="title_left">
						<h3>
							Users <small>list of application users</small>
						</h3>
					</div>
				</div>

				<div class="clearfix"></div>
				<div class="row">
					<div class="col-md-12 col-sm-12 col-xs-12">
						<div class="x_panel">
							<div class="x_title">
								<h2>
									List <small>Users</small>
								</h2>
								
								<div class="clearfix"></div>
							</div>
							<div class="x_content">
								<table id="datatable" class="table table-striped table-bordered">
									<thead>
										<tr>
											<th>ID</th>
											<th>First name</th>
											<th>Last name</th>
											<th>Email</th>
											<th>Level</th>
											<th>Roles</th>
											<th>Created at</th>
											<th>Updated at</th>
										</tr>
									</thead>
									<tbody>
									</tbody>
								</table>
							</div>
							<div style="float: right;">
		                    	<a href="/admin/user/new" class="btn btn-success"><i class="fa fa-plus"></i> New user</a>
		                    </div>
						</div>
					</div>
				</div>
			</div>
		</div>
        <!-- /page content -->
		
		<footer th:replace="fragments/footer :: footer"> </footer>
      </div>
    </div>
	
	<div th:replace="fragments/footer :: script"> </div>
	<script type="text/javascript">
	$(function () {
    	$('#datatable').dataTable({
    		sAjaxSource : '/admin/user/data',
            pageLength: 10,
			aaSorting : [[ 7, 'desc' ], [6, 'desc'], [0, 'desc']], 
			bProcessing : true, 
			bServerSide : true,
			searching : true, 
			columnDefs:[
				{ targets: 0, render: function(data, type, row , meta){
					return '<a href="/admin/user/edit/'+data+'">'+data+'</a>';
				}}
			]
    	});
	});
	</script>	
  </body>
</html>
